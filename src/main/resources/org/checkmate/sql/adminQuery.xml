<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
    <!--  로그인 회원 찾기 -->

    <entry key="findByLoginIdAndPassword">
        SELECT MEMBER_ID, LOGIN_ID, PASSWORD, ROLE, DELAY_CNT
        FROM MEMBERS
        WHERE LOGIN_ID = ?
        AND password = ?
    </entry>

<!--    도서 관리 파트-->
    <!--  전체 책 목록 검색-->
    <entry key="도서목록">
        select b_name,author,publisher,add_date from BOOKS;

    </entry>

<!--    도서 삭제 -->
    <entry key="도서 삭제">
        {call delete_book (?)}
    </entry>


<!--    도서등록-->
    <entry key="도서 신청 승인">
        {call insert_book_from_request  (?,?,?)}

    </entry>

<!--    도서 신청-->
    <entry key="도서 신청 승인">
    {call update_req_con_date (?)}

    </entry>

    <entry key="도서 신청 반려">
        {call update_return_date (?)}

    </entry>


<!--    사원 관리 파트-->

    <!--    비밀번호 초기화 -->
    <entry key="비밀번호 초기화">

        {call update_member_password  (?,?)}
    </entry>

    <!--    사원등록 -->
    <entry key="사원등록">

        {call insert_member   (?,?)}
    </entry>

    <!-- 사원삭제 -->
    <entry key="사원등록">

        {call delete_member  (?,)}
    </entry>



<!-- 신청도서 파트-->


        <!--신청내역 조회 이미 신청과 반려 된 것들은 제외 -->
<entry key="신청 내역 조회">

select b.member_id,m.e_name,b.b_name,b.publisher,b.author
from book_requests b join members m
on b.member_id = m.member_id
and req_con_date is null
and return_date is null;
</entry>


</properties>